{% extends "TGProdBundle::layout.html.twig" %}

{% block title %}
  Valider une étape - {{ parent() }}
{% endblock %}

{% block tgprod_body %}
  <div class="col-sm-2 no-padding margin-top"><a href="{{ path('tg_prod_view', {'id': projet.id}) }}" class="btn btn-danger"><i class="glyphicon glyphicon-chevron-left"></i> Retour au projet</a></div>
  <div class="col-sm-8 no-padding"><h3>{{ projet.titre }}</h3></div>
  <div class="col-sm-8 no-padding"><h4>Livraison le {{ projet.delai|localizeddate('full', 'none') }}</h4></div>
<div class="col-sm-4 no-padding text-right"><h4>Projet ID : #{{ projet.id }}</h4></div>

<div class="well col-sm-12">
{{ form_start(form, {'attr': {'class': 'form-horizontal required'}}) }}
        {{ form_errors(form) }}
           <div class="form-group">
            {{ form_label(form.contenu, "Commentaire", {'label_attr': {'class': 'col-sm-2 control-label' }}) }}
            {{ form_errors(form.contenu) }}
          <div class="col-sm-6">
            {{ form_widget(form.contenu, {'attr': {'class': 'ckeditor'}}) }}
          </div>

        <div class="col-sm-4" style="float:left;">
      {{ form_label(form.projet.recap, "Récap", {'label_attr': {'class': 'control-label'}}) }}
      {{ form_errors(form.projet.recap) }}
        {{ form_widget(form.projet.recap, {'attr': {'class': 'form-control', 'style': 'height: 262px'}}) }}
        </div>
      </div>

           <div class="form-group">
            {{ form_label(form.projet.assign, "Assigner à", {'label_attr': {'class': 'col-sm-2 control-label' }}) }}
            {{ form_errors(form.projet.assign) }}
          <div class="col-sm-6">
            {{ form_widget(form.projet.assign, {'attr': {'class': 'form-control'}}) }}
          </div>
          </div>
          <div class="form-group">
            {{ form_label(form.projet.etape, "Nouvelle étape", {'label_attr': {'class': 'col-sm-2 control-label' }}) }}
            {{ form_errors(form.projet.etape) }}
          <div class="col-sm-6">
            {{ form_widget(form.projet.etape, {'attr': {'class': 'form-control'}}) }}
          </div>
        </div>
         <div class="form-group required">
          {{ form_label(form.projet.avancement, "Nouvelle échéance", {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
          {{ form_errors(form.projet.avancement) }}
          <div class="col-sm-6">
          {{ form_widget(form.projet.avancement, {'attr': {'class': 'form-control'}}) }}
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-6"></div>
            {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary col-sm-2'}}) }} 
            {{ form_rest(form) }}
            {{ form_end(form) }}

    </div>

{% endblock %}
